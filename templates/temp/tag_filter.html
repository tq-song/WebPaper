{% load tag_type %}
<h3>标签</h3>
<div class="break" style="flex-basis: 100%;height: 0"></div>
<div class="d-flex flex-column flex-grow-1">
  {% for type in tags|tag_type %}
  <div class="d-flex flex-row" style="flex-flow: wrap;">
    <div class="text-nowrap">{{ type }}: </div>
    {% for c in tags|sub_tags:type %}
    {% if c in selected_tags %}
    <div class="p-2 text-nowrap"><a href="{{ selected|remove_tag:c.name }}" class="btn btn-primary mt-auto" role="button">{{ c.name }}</a></div>
    {% else %}
    <div class="p-2 text-nowrap"><a href="{{ request.get_full_path|add_suffix }}{{ c.name }}" class="btn btn-light mt-auto" role="button">{{ c.name }}</a></div>
    {% endif %}
    {% endfor %}
  </div>
  {% endfor %}
</div>